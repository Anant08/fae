.main_nav {
  @extend %inset-nav-shadow;
  @include transition($mobile-menu-transition);
  position: fixed;
  top: 0;
  left: 0;
  width: $main_nav_width;
  height: 100%;
  margin-left: negate($main_nav_width);
  overflow: auto;
  padding: 10px 0;
  font-size: 14px;

  @include bp(large) {
    position: absolute;
    margin-left: 0;
  }

  a {
    @extend %main_nav-all_links;
    position: relative;
    padding: 15px 20px;

    &.current {
      padding-left: 20px;
      font-weight: bold;
      border-left: 5px solid $c-custom-highlight;
      color: $c-custom-highlight;
    }

    @include bp(large) {
      padding: 10px 25px;
    }
  }

  li {
    li {
      a {
        font-size: 14px;

        @include bp(large) {
          padding: 10px 35px;
        }
      }

      li {
        a {
          @include bp(large) {
            padding-left: 45px;
          }
        }
      }
    }
  }
}

// The accordion. An <li> element.
.main_nav-accordion {
  &.-open {
    > a {
      &:after {
        @extend .icon-chevron_up:before;
      }
    }
  }

  &.current {
    > ul {
      display: block;
    }
  }

  > a {
    @extend %nav-icon;

    &:after {
      @extend .icon-chevron_down:before;
      right: 25px;
      font-size: 8px;
      top: 14px;

      @include bp(large-down) {
        top: 18px;
        // overrides the up arrow on open at desktop
        content: '\e610' !important;
      }
    }
  }

  ul {
    @include bp(large) {
      display: none;
    }
  }
}

.main_nav-sub-nav-admin {
  a {
    &.-users,
    &.-settings,
    &.-activity {
      @extend %nav-icon;
      position: relative;

      &:after {
        right: 25px;
        top: 11px;
      }
    }

    &.-users {
      &:after {
        @extend .icon-users:before;
      }
    }

    &.-settings {
      &:after {
        @extend .icon-settings:before;
      }
    }

    &.-activity {
      &:after {
        @extend .icon-bars:before;
      }
    }
  }
}

.main_nav-header-mobile {
  @include bp(large) {
    display: none;
  }

  a {
    @extend %inset-nav-shadow;
    @extend %nav-icon;
    color: $c-dark_grey;
    background: $c-lightest_grey;

    &:after {
      top: 15px;
      right: 13px;
      font-size: 16px;
    }

    &.-logout {
      &:after {
        @extend .icon-logout:before;
      }
    }

    &.-settings {
      &:after {
        @extend .icon-settings:before;
      }
    }

    &.-support {
      &:after {
        @extend .icon-support:before;
      }
    }

    &.-viewsite {
      &:after {
        @extend .icon-offlink:before;
      }
    }
  }
}

.header_drawer-content-username {
  @extend %inset-nav-shadow;
  display: block;
  position: relative;
  padding: 15px 10px 15px 20px;
  cursor: pointer;
  color: $c-black;
  background: $c-lighter_grey;

  @include bp(large) {
    display: none;
  }
}

.main_nav-third-link {
  @include bp(large) {
    padding: 10px 10px 10px 30px;
  }
}

.main_nav-link-dashboard {
  a,
  .header_drawer-content {
    @extend %nav-icon;
    position: relative;

    &:after {
      @extend .icon-home:before;
      right: 25px;
      top: 11px;
    }
  }
}

// when the main nav is current
@include bp(large) {
  .main_nav-accordion.current {
    a.current {
      padding-left: 15px;
    }

    .main_nav-accordion {
      &.current {
        display: block;
      }

      a.current {
        padding-left: 25px;
      }
    }
  }
}

.main_nav-menu_button {
  position: absolute;
  top: 0;
  left: 0;
  padding: 18px;
  cursor: pointer;
  color: $c-white;

  @include bp(large) {
    display: none;
  }
}

.show--mobile {
  @include bp(large) {
    display: none;
  }
}
